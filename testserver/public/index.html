<html>

<head>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
    <div id="information">
        <h2>MMOBrowser manager</h2>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/jsframe.js/lib/jsframe.min.js"></script>
    <script type="text/javascript">
        const jsFrame = new JSFrame({
            horizontalAlign: 'left',
            verticalAlign: 'top',
        });

        function rest() {
            var frame = jsFrame.getWindowByName('Win0');
            frame.control.doDehide();
        }

        function start() {
            const appearance = jsFrame.createFrameAppearance();
            const frame = jsFrame.create({
                name: `Win`,
                title: `Win - Win10 style`,
                left: 20, top: 40, width: 320, height: 220, minWidth: 200, minHeight: 110,
                // appearanceName: 'material',
                style: {
                    backgroundColor: 'rgba(255,255,255,0.8)',
                    overflow: 'auto'
                },
                appearance: mmobChatWindowAppearance(appearance),
                // appearence:mmobChatWindowAppearance(appearance),
                url: 'iframe_content03.html',
            }).show();


            // frame.setControl({
            //     maximizeButton: 'maximizeButton',
            //     demaximizeButton: 'restoreButton',
            //     minimizeButton: 'minimizeButton',
            //     deminimizeButton: 'deminimizeButton',
            //     animation: true,
            //     animationDuration: 200,
            // });

            frame.on('minButton', 'click', (_frame, evt) => {
                _frame.control.doMinimize({
                    duration: 200,
                    callback: (frame, info) => {
                        jsFrame.showToast({
                            text: frame.getName() + ' ' + info.eventType
                        });
                    }
                });

            });
            frame.on('deminButton', 'click', (_frame, evt) => {
                _frame.control.doDeminimize({
                    duration: 200,
                    callback: (frame, info) => {
                        jsFrame.showToast({
                            text: frame.getName() + ' ' + info.eventType
                        });
                    }
                });
            });

            frame.on('closeButton', 'click', (_frame, evt) => {
                _frame.control.doHide({
                    duration: 100,
                    align: 'CENTER_BOTTOM',
                    callback: (frame, info) => {
                        jsFrame.showToast({
                            text: frame.getName() + ' ' + info.eventType
                        });
                        _frame.closeFrame();
                    }
                })
            });
        }

        start();

        function mmobChatWindowAppearance(apr) {
            apr.onInitialize = function () {
                var partsBuilder = apr.getPartsBuilder();
                var btApr = partsBuilder.buildTextButtonAppearance();
                // 枠線
                btApr.borderWidth = 1;
                btApr.borderColorDefault = '#cccccc';
                btApr.borderColorFocused = '#cccccc';
                btApr.borderColorHovered = '#eeeeee';
                btApr.borderColorPressed = '#eeeeee';
                // 背景
                btApr.backgroundColorDefault = 'white';
                btApr.backgroundColorFocused = 'white';
                btApr.backgroundColorHovered = '#ff3333';
                btApr.backgroundColorPressed = '#ff3333';
                btApr.captionColorDefault = 'black';
                btApr.captionColorFocused = 'black';
                btApr.captionColorHovered = 'black';
                btApr.captionColorPressed = 'black';
                btApr.captionShiftYpx = 1;
                btApr.captionFontRatio = 0.6;

                btApr.caption = '-';
                var minimizeBtEle = partsBuilder.buildTextButton(btApr);

                btApr.caption = '\u25A3';
                var deminimizeBtEle = partsBuilder.buildTextButton(btApr);
                deminimizeBtEle.style.display = 'none';

                btApr.caption = '\u2573';
                var hideBtEle = partsBuilder.buildTextButton(btApr);

                var eleTop = 5 - parseInt(apr.titleBarHeight);
                var eleLeft = -10;
                var eleAlign = 'RIGHT_TOP';
                apr.addFrameComponent('minButton', minimizeBtEle, -20 + eleLeft, eleTop, eleAlign);
                apr.addFrameComponent('deminButton', deminimizeBtEle, -20 + eleLeft, eleTop, eleAlign);
                apr.addFrameComponent('hideButton', hideBtEle, 0 + eleLeft, eleTop, eleAlign);
            };
            return apr;
        }
    </script>
    <script type="text/javascript" src='/js/jsframe.js'></script>
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
        integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
        crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"
        integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1"
        crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"
        integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM"
        crossorigin="anonymous"></script>
</body>

</html>